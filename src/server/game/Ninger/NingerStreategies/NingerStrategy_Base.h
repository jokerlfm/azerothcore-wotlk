#ifndef NINGER_STRATEGY_H
#define NINGER_STRATEGY_H

#ifndef STRATEGY_THE_UNDERBOG
#define STRATEGY_THE_UNDERBOG 546
#endif

#ifndef ENTRY_HUNGARFEN
#define ENTRY_HUNGARFEN 17770
#endif

#ifndef ENTRY_HUNGARFEN_1
#define ENTRY_HUNGARFEN_1 20169
#endif

#ifndef ENTRY_UNDERBOG_MUSHROOM
#define ENTRY_UNDERBOG_MUSHROOM 17990
#endif

#ifndef ENTRY_UNDERBOG_MUSHROOM_1
#define ENTRY_UNDERBOG_MUSHROOM_1 20189
#endif

#include "NingerAction_Base.h"

class NingerAction_Base;

enum GroupRole :uint32
{
    GroupRole_DPS = 0,
    GroupRole_Tank = 1,
    GroupRole_Healer = 2,
};

enum ActionType :uint32
{
    ActionType_None = 0,
    ActionType_Engage = 1,
    ActionType_Revive = 2,
    ActionType_Move = 3,
};

class NingerStrategy_Base
{
public:
    NingerStrategy_Base();

    virtual void Report();
    virtual void Reset();
    virtual void Update(uint32 pmDiff);
    virtual bool Engage(Unit* pmTarget);
    virtual bool Tank(Unit* pmTarget);
    virtual bool Tank();
    virtual bool DPS(bool pmDelay = true);
    virtual bool Heal();
    virtual bool Cure();
    virtual bool Buff();
    virtual bool Revive();
    virtual bool Revive(Unit* pmTarget);
    virtual bool Rest(bool pmForce = false);
    virtual bool Petting();
    virtual bool Follow();
    virtual bool Wander();
    virtual std::string GetGroupRole();
    virtual void SetGroupRole(std::string pmRoleName);

    bool GroupInCombat();

public:
    Player* me;
    bool initialized;

    float dpsDistance;
    float dpsDistanceMin;
    float followDistance;

    int randomTeleportDelay;

    int corpseRunDelay;
    int dpsDelay;

    int restLimit;
    int drinkDelay;

    int combatDuration;
    int wanderDuration;
    int pvpDelay;

    bool freeze;
    bool cure;
    bool aoe;
    bool rushing;
    bool petting;
    bool following;
    float combatAngle;
    bool forceBack;

    uint32 actionType;
    int actionLimit;
    ObjectGuid ogActionTarget;
    ObjectGuid ogTank;
    ObjectGuid ogHealer;
};


class NingerStrategy_The_Underbog :public NingerStrategy_Base
{
public:
    NingerStrategy_The_Underbog();

    void Report();
    bool Tank(Unit* pmTarget);
    bool DPS(bool pmDelay = true);

public:
    bool hungarfen;
};
#endif
